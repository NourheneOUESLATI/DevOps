pipeline {
     agent any
   stages{
         stage('compile'){
           steps{
             bat """mvn compile"""
           }
         }
         stage('packaging'){
           steps{
             bat """mvn clean package"""
           }
         }
         stage('test'){
           steps{
             bat """mvn test"""
           }
         }
     post {
       success {
         emailext body: 'build success', subject: 'jenkins', to: 'nourhene.oueslati@esprit.tn'
       }
       failure {
         emailext body: 'failure', subject: 'jenkins', to: 'nourhene.oueslati@esprit.tn'
       }
     }
 }
         
         