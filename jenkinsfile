pipeline {
     agent any
   stages{
         stage('Git'){
           steps{
             echo 'pulling';
             git branch: 'nourhene',
             url: 'https://github.com/nurhene/DevOps.git',
           }
         }
         stage('test'){
           steps{
             bat """mvn clean install"""
           }
         }
         stage('Sonar'){
           steps{
             bat """mvn sonar:sonar""
           }
         }
         stage('nexus'){
           steps{
             bat """mvn deploy"""
           }
         }
     }
     post {
       success {
         emailext body: 'build success', subject: 'jenkins', to: 'nourhene.oueslati@esprit.tn'
       }
       failure {
         emailext body: 'failure success', subject: 'jenkins', to: 'nourhene.oueslati@esprit.tn'
       }
         
         